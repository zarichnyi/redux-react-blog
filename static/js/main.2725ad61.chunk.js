(this["webpackJsonpredux-react-blog"]=this["webpackJsonpredux-react-blog"]||[]).push([[0],{161:function(e,t,n){e.exports=n(174)},174:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(39),l=n.n(c),o=n(61),u=n(16),i=(n(169),n(194)),s=n(204),m=n(40),d=n.n(m),f=n(62),p="https://jsonplaceholder.typicode.com/posts/";function g(){return(g=Object(f.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p);case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b=n(32),O=n(10),E=n(203),y=n(200),h=n(193),S=n(201),j=n(195),v=n(175),w=n(202),I=n(198),x=n(192),N=n(199),C="https://jsonplaceholder.typicode.com/comments/";function J(){return(J=Object(f.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(C);case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=n(73),U=[],D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setComments":return Object(k.a)(t.comments);default:return e}},A=function(){var e=Object(u.b)(),t=Object(O.e)().articleID,n=Object(u.c)((function(e){return e.comments.filter((function(e){return e.postId===+t}))}));return Object(a.useEffect)((function(){(function(){return J.apply(this,arguments)})().then((function(t){return e(function(e){return{type:"setComments",comments:e}}(t))}))}),[e]),r.a.createElement(N.a.Group,null,n.map((function(e){return r.a.createElement(N.a,{key:e.id},r.a.createElement(N.a.Content,null,r.a.createElement(N.a.Author,{as:"a"},e.email),r.a.createElement(N.a.Text,null,e.body)))})))},B=n(137),z=[],T=function(e,t){return{type:"editTitle",id:e,title:t}},V=function(e){return{type:"filterNews",id:e}},q=function(e){return{type:"setNews",news:e}},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setNews":return Object(k.a)(t.news);case"filterNews":return t.id&&JSON.parse(localStorage.getItem("news")).filter((function(e){return e.userId===t.id}))||JSON.parse(localStorage.getItem("news"));case"editTitle":var n=JSON.parse(localStorage.getItem("news")).map((function(e){return e.id!==t.id?Object(B.a)({},e):(e.title=t.title,e)}));return localStorage.setItem("news",JSON.stringify(n)),n;case"editBody":var a=JSON.parse(localStorage.getItem("news")).map((function(e){return e.id!==t.id?Object(B.a)({},e):(e.body=t.body,e)}));return localStorage.setItem("news",JSON.stringify(a)),a;case"deleteArticle":var r=JSON.parse(localStorage.getItem("news")).filter((function(e){return e.id!==t.id}));return localStorage.setItem("news",JSON.stringify(r)),r;case"addArticle":var c=JSON.parse(localStorage.getItem("news"));return c.push({userId:t.userId,id:t.articleId,title:t.title,body:t.body}),localStorage.setItem("news",JSON.stringify(c)),c;default:return e}},K=function(){var e=Object(O.e)().articleID,t=Object(u.b)(),n=Object(u.c)((function(t){return t.news.find((function(t){return t.id===+e}))})),c=Object(a.useState)(!1),l=Object(b.a)(c,2),o=l[0],i=l[1],s=Object(a.useState)(""),m=Object(b.a)(s,2),d=m[0],f=m[1],p=Object(a.useState)(!1),g=Object(b.a)(p,2),E=g[0],y=g[1],h=Object(a.useState)(""),N=Object(b.a)(h,2),C=N[0],J=N[1],k=function(e){"Enter"===e.key&&d?(t(T(n.id,d)),t(V(JSON.parse(localStorage.getItem("choosenUser")))),i(!1),f("")):"Enter"===e.key&&C&&(t({type:"editBody",id:n.id,body:C}),t(V(JSON.parse(localStorage.getItem("choosenUser")))),y(!1),J("")),"Escape"===e.key&&(f(""),i(!1))},U=function(){d?(t(T(n.id,d)),t(V(JSON.parse(localStorage.getItem("choosenUser")))),i(!1),f("")):(i(!1),f(""))};return r.a.createElement(r.a.Fragment,null,n&&r.a.createElement(S.a,null,r.a.createElement(S.a.Content,null,r.a.createElement(j.a,{content:"Edit title",trigger:r.a.createElement(v.a,{size:"mini",icon:"edit outline",onClick:function(){return i(!o)}})}),r.a.createElement(j.a,{content:"Delete article",trigger:r.a.createElement(v.a,{size:"mini",icon:"delete",onClick:function(){t({type:"deleteArticle",id:n.id}),t(V(JSON.parse(localStorage.getItem("choosenUser"))))}})}),o?r.a.createElement(I.a,null,r.a.createElement(x.a,{defaultValue:n.title,onChange:function(e,t){return f(t.value)},onKeyDown:k,onBlur:U})):r.a.createElement(w.a,{as:"h2",style:{margin:0}},n.title)),r.a.createElement(S.a.Content,null,r.a.createElement(j.a,{content:"Edit body",trigger:r.a.createElement(v.a,{size:"mini",icon:"edit outline",onClick:function(){return y(!E)}})}),E?r.a.createElement(I.a,null,r.a.createElement(x.a,{defaultValue:n.body,onChange:function(e,t){return J(t.value)},onKeyDown:k,onBlur:U})):r.a.createElement(S.a.Content,{description:n.body}),r.a.createElement(S.a.Description,null,r.a.createElement(A,null)))))},G=function(){var e=Object(a.useState)(""),t=Object(b.a)(e,2),n=(t[0],t[1],Object(u.c)((function(e){return e.news}))),c=Object(a.createRef)();return r.a.createElement("div",{ref:c},r.a.createElement(E.a,{columns:2},r.a.createElement(E.a.Column,null,r.a.createElement(y.a,{link:!0},n.map((function(e){return r.a.createElement(y.a.Item,{as:o.b,to:"/news/".concat(e.id),key:e.id},r.a.createElement(s.a,null,r.a.createElement(E.a,{columns:"equal"},r.a.createElement(E.a.Column,null,e.title))))})))),r.a.createElement(E.a.Column,{style:{zIndex:0}},r.a.createElement(h.a,{context:c,pushing:!0},r.a.createElement(O.a,{path:"/news/:articleID",component:K})))))},L=n(197),R=n(196),H="https://jsonplaceholder.typicode.com/users/";function M(){return(M=Object(f.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(H);case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=[],Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setUsers":return Object(k.a)(t.users);default:return e}},W=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.users.map((function(e){return{key:e.id,text:e.name,value:e.id}}))}));return t.unshift({key:0,text:"All",value:0}),Object(a.useEffect)((function(){(function(){return M.apply(this,arguments)})().then((function(t){return e(function(e){return{type:"setUsers",users:e}}(t))}))}),[e]),r.a.createElement(L.a,{compact:!0},r.a.createElement(R.a,{placeholder:"All",selection:!0,options:t,defaultValue:JSON.parse(localStorage.getItem("choosenUser")),onChange:function(t,n){e(V(n.value)),localStorage.setItem("choosenUser",JSON.stringify(n.value))}}))},X=n(191),Y=function(){var e=Object(u.c)((function(e){return e.users.map((function(e){return{key:e.id,text:e.name,value:e.id}}))})),t=Object(a.useState)(!1),n=Object(b.a)(t,2),c=n[0],l=n[1],o=Object(a.useState)(""),m=Object(b.a)(o,2),d=m[0],f=m[1],p=Object(a.useState)(""),g=Object(b.a)(p,2),O=g[0],E=g[1],y=Object(a.useState)(1),h=Object(b.a)(y,2),S=h[0],j=h[1],w=Object(u.b)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{style:{marginLeft:40},onClick:function(){return l(!c)}},"Add article"),c&&r.a.createElement(i.a,{style:{zIndex:1,position:"absolute",top:"20vh",left:"10vw",height:"500px",width:"800px",border:"1px solid black",backgroundColor:"grey"}},r.a.createElement(s.a,{style:{backgroundColor:"grey"}},r.a.createElement(I.a,{onSubmit:function(e){e.preventDefault(),function(){var e,t,n,a;w((e=d,t=O,n=S,a=+Date.now(),{type:"addArticle",title:e,body:t,userId:n,articleId:a})),l(!c),f(""),E(""),j(1)}()}},r.a.createElement(X.a,{placeholder:"Title",required:!0,style:{margin:"20px 0",width:"100%"},value:d,onChange:function(e){return f(e.target.value)}}),r.a.createElement(x.a,{placeholder:"Body",required:!0,value:O,onChange:function(e){return E(e.target.value)}}),r.a.createElement(R.a,{name:"users",selection:!0,options:e,defaultValue:1,onChange:function(e,t){return j(t.value)},style:{margin:"0 10px"}}),r.a.createElement(v.a,{type:"submit",style:{margin:"20px 0"}},"Submit"),r.a.createElement(v.a,{onClick:function(){l(!c),f(""),E(""),j(1)},style:{margin:"0 10px"}},"Cancel")))))};var Z=function(){var e=Object(u.b)();return Object(a.useEffect)((function(){(function(){return g.apply(this,arguments)})().then((function(t){JSON.parse(localStorage.getItem("news"))?e(q(JSON.parse(localStorage.getItem("news")))):(e(q(t)),localStorage.setItem("news",JSON.stringify(t))),JSON.parse(localStorage.getItem("choosenUser"))&&e(V(JSON.parse(localStorage.getItem("choosenUser"))))}))}),[e]),r.a.createElement(i.a,null,r.a.createElement(s.a,null,r.a.createElement(W,null),r.a.createElement(Y,null)),r.a.createElement(s.a,null,r.a.createElement(G,null)))},$=n(89),_=Object($.b)({news:F,comments:D,users:Q}),ee=Object($.c)(_);l.a.render(r.a.createElement(o.a,null,r.a.createElement(u.a,{store:ee},r.a.createElement(Z,null))),document.getElementById("root"))}},[[161,1,2]]]);
//# sourceMappingURL=main.2725ad61.chunk.js.map